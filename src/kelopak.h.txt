#ifndef __KELOPAK__
#define __KELOPAK__

#include <Arduino.h>
#include "stepper.h"

#define STEPPER_EN_PIN 18
#define STEPPER_DIR_PIN 19
#define STEPPER_NUM_STEP 3
#define STEPPER1_STEP_PIN 23
#define STEPPER2_STEP_PIN 5
#define STEPPER3_STEP_PIN 13

class kelopak
{
private:
    stepper klp[STEPPER_NUM_STEP];
    bool isOpening = true;
    bool isInterrupt = false;
    bool isComplate = false;

public:
    int pinEn;
    int pinDir;
    int speed;
    kelopak(int, int);
    void begin();
    void enable(bool en);
    void direction(int ud);
    void openPetals();
    void closePetals();
    void setRPM(int rpm);
    void update();
};

#endif
